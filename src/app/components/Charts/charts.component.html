  <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">{{ chartType }}</h2>
  <div
     class="w-full h-[400px] relative bg-transparent rounded-xl flex justify-content md:h-[350px] md:overflow-hidden"> <!--bg-gradient-to-br from-indigo-500 to-purple-600 -->

    <div class="absolute" [ngClass]="tooltipVisible ? 'visible': 'invisible'">
      <label class="flex text-white text-l font-semibold md:mb-2" [style.color]="color">{{ tooltipLabel }}</label>
      <div class="text-white text-m flex" [style.color]="color">
        â‚¹ <span class="ml-[5px]">{{ value | number:'1.2-2' }}</span>
      </div>
    </div>

    <canvas #chartCanvas class="top-[-50px] absolute max-w-[400px] max-h-[400px] cursor-pointer ml-[-50px]" (mousemove)="onCanvasMouseMove($event)"
      (mouseleave)="onCanvasMouseLeave()"></canvas>

    <!-- Tooltip -->
    <div *ngIf="tooltipVisible"
      class="absolute bg-gray-900 text-white px-4 py-2 rounded-lg shadow-xl pointer-events-none transition-opacity duration-200"
      [style.left.px]="tooltipX" [style.top.px]="tooltipY" [style.opacity]="tooltipVisible ? 1 : 0">
      <div class="font-semibold text-sm">{{ tooltipLabel }}</div>
      <div class="text-xs text-gray-300">{{ tooltipPercentage }} %</div>
    </div>

    <div class="absolute top-5 right-5 bg-white/95 p-5 rounded-lg shadow-lg h-[100px] overflow-y-auto mt-[280px] w-[250px]">
      <div *ngFor="let item of chartData; let i = index"
        class="flex items-center mb-3 cursor-pointer transition-transform duration-200 hover:translate-x-1"
        (mouseenter)="onLegendHover(i)" (mouseleave)="onLegendLeave(i)">
        <span class="w-5 h-5 rounded inline-block mr-2.5" [style.background-color]="item.color"></span>
        <span class="font-medium text-sm text-gray-800">{{ item.category }}: {{ item.percentage }} %</span>
      </div>
    </div>
  </div>